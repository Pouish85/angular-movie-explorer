<div class="home-page">
  <section>
    <div class="search-container">
      <input
        type="text"
        [(ngModel)]="searchQuery"
        (input)="onSearchInputChange()"
        (keyup.enter)="onSearchSubmit()"
        placeholder="Rechercher films ou séries..."
        class="search-input"
      />
      <button (click)="onSearchSubmit()" class="search-button">
        Rechercher
      </button>
    </div>

    <h1>
      @if (searchQuery.length > 0) {
        Résultats de la recherche pour "{{ searchQuery }}"
      } @else {
        Films Populaires
      }
    </h1>

    @if (popularItems.length > 0) {
      <div class="media-grid">
        @for (item of popularItems; track item.id) {
          <app-media-card [media]="item"></app-media-card>
        } @empty {
          <p>Aucun média trouvé.</p>
        }
      </div>
    } @else {
      <p>Chargement des médias...</p>
    }
  </section>
</div>
